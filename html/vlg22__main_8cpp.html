<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Autoware_Doxygen: /home/deng/Project/autobot-feature-decision/ros/src/sensing/drivers/camera/packages/baumer/nodes/vlg22/src/vlg22_main.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Autoware_Doxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('vlg22__main_8cpp.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">vlg22_main.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;bgapidef.hpp&gt;</code><br />
<code>#include &quot;bgapi.hpp&quot;</code><br />
<code>#include &quot;<a class="el" href="bgapi__init_8h_source.html">bgapi_init.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for vlg22_main.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="vlg22__main_8cpp__incl.png" border="0" usemap="#_2home_2deng_2_project_2autobot-feature-decision_2ros_2src_2sensing_2drivers_2camera_2packages_2baumer_2nodes_2vlg22_2src_2vlg22__main_8cpp" alt=""/></div>
<map name="_2home_2deng_2_project_2autobot-feature-decision_2ros_2src_2sensing_2drivers_2camera_2packages_2baumer_2nodes_2vlg22_2src_2vlg22__main_8cpp" id="_2home_2deng_2_project_2autobot-feature-decision_2ros_2src_2sensing_2drivers_2camera_2packages_2baumer_2nodes_2vlg22_2src_2vlg22__main_8cpp">
<area shape="rect" id="node4" href="bgapi__init_8h.html" title="bgapi_init.h" alt="" coords="755,139,843,165"/>
</map>
</div>
</div>
<p><a href="vlg22__main_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af7620b12ed066b7f9bdfd96942816f37"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vlg22__main_8cpp.html#af7620b12ed066b7f9bdfd96942816f37">baumer_startup</a> (std::vector&lt; BGAPI::System * &gt; &amp;ppSystem, std::vector&lt; BGAPI::System * &gt;::iterator &amp;systemIter, BGAPI_RESULT &amp;res, std::vector&lt; BGAPI::Camera * &gt; &amp;cameraPointers, std::vector&lt; BGAPI::Image * &gt; &amp;imagePointers, int &amp;camera_num, int &amp;system_count, BGAPI::Image *pImage)</td></tr>
<tr class="separator:af7620b12ed066b7f9bdfd96942816f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf538d7649d4e4e4c8c2281dc9c75c9d"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vlg22__main_8cpp.html#adf538d7649d4e4e4c8c2281dc9c75c9d">get_image_brightness_percent</a> (cv::Mat &amp;in_image)</td></tr>
<tr class="separator:adf538d7649d4e4e4c8c2281dc9c75c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33ce0091cc0191c1f990a077ad94059e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vlg22__main_8cpp.html#a33ce0091cc0191c1f990a077ad94059e">baumer_change_exposure</a> (BGAPI::Camera *camera_pointer, int exposure)</td></tr>
<tr class="separator:a33ce0091cc0191c1f990a077ad94059e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52d1d6a2e64d45cf0618340ef6afad01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vlg22__main_8cpp.html#a52d1d6a2e64d45cf0618340ef6afad01">get_ros_params</a> (ros::NodeHandle &amp;node_handle, int &amp;fps, double &amp;scale, double &amp;brightness)</td></tr>
<tr class="separator:a52d1d6a2e64d45cf0618340ef6afad01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9dacd1c21a4e0009c5e9614291374aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vlg22__main_8cpp.html#af9dacd1c21a4e0009c5e9614291374aa">ros_init_publishers</a> (ros::NodeHandle node_handle, ros::Publisher publishers[], int camera_num)</td></tr>
<tr class="separator:af9dacd1c21a4e0009c5e9614291374aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00685bb3c9c88422082dc55cc1bac852"><td class="memItemLeft" align="right" valign="top">sensor_msgs::Image&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vlg22__main_8cpp.html#a00685bb3c9c88422082dc55cc1bac852">ros_prepare_image</a> (int count, cv::Mat <a class="el" href="structimage.html">image</a>, size_t camera_id)</td></tr>
<tr class="separator:a00685bb3c9c88422082dc55cc1bac852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9df2d058e4c6999375b50de755ad119"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vlg22__main_8cpp.html#ad9df2d058e4c6999375b50de755ad119">adjust_exposure</a> (BGAPI::Camera *camera_pointer, cv::Mat &amp;bayer_image, float &amp;current_brightness, float threshold_brightness, int &amp;prev_exposure, int &amp;exposure, int exposure_delta)</td></tr>
<tr class="separator:ad9df2d058e4c6999375b50de755ad119"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vlg22__main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ad9df2d058e4c6999375b50de755ad119"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adjust_exposure </td>
          <td>(</td>
          <td class="paramtype">BGAPI::Camera *&#160;</td>
          <td class="paramname"><em>camera_pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>bayer_image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>current_brightness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>threshold_brightness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>prev_exposure</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>exposure</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>exposure_delta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="vlg22__main_8cpp_source.html#l00252">252</a> of file <a class="el" href="vlg22__main_8cpp_source.html">vlg22_main.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a33ce0091cc0191c1f990a077ad94059e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void baumer_change_exposure </td>
          <td>(</td>
          <td class="paramtype">BGAPI::Camera *&#160;</td>
          <td class="paramname"><em>camera_pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>exposure</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Changes, if possible, the camera time exposure. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">camera_pointer</td><td>Valid pointer of the camera to change. </td></tr>
    <tr><td class="paramname">exposure</td><td>New exposure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vlg22__main_8cpp_source.html#l00138">138</a> of file <a class="el" href="vlg22__main_8cpp_source.html">vlg22_main.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af7620b12ed066b7f9bdfd96942816f37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool baumer_startup </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; BGAPI::System * &gt; &amp;&#160;</td>
          <td class="paramname"><em>ppSystem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; BGAPI::System * &gt;::iterator &amp;&#160;</td>
          <td class="paramname"><em>systemIter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BGAPI_RESULT &amp;&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; BGAPI::Camera * &gt; &amp;&#160;</td>
          <td class="paramname"><em>cameraPointers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; BGAPI::Image * &gt; &amp;&#160;</td>
          <td class="paramname"><em>imagePointers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>camera_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>system_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BGAPI::Image *&#160;</td>
          <td class="paramname"><em>pImage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="vlg22__main_8cpp_source.html#l00009">9</a> of file <a class="el" href="vlg22__main_8cpp_source.html">vlg22_main.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="adf538d7649d4e4e4c8c2281dc9c75c9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float get_image_brightness_percent </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>in_image</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>brightness in this program is defined as the ratio between the pixels with higher values over the lowest ones. Ratio is calculated splitting the histogram in half, and dividing the number of pixels in the seconf (higher) part of the histogram (brightness higher than 128) over the total number of pixels. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_image</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="vlg22__main_8cpp_source.html#l00081">81</a> of file <a class="el" href="vlg22__main_8cpp_source.html">vlg22_main.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a52d1d6a2e64d45cf0618340ef6afad01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_ros_params </td>
          <td>(</td>
          <td class="paramtype">ros::NodeHandle &amp;&#160;</td>
          <td class="paramname"><em>node_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>fps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>brightness</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="vlg22__main_8cpp_source.html#l00175">175</a> of file <a class="el" href="vlg22__main_8cpp_source.html">vlg22_main.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="vlg22__main_8cpp_source.html#l00284">284</a> of file <a class="el" href="vlg22__main_8cpp_source.html">vlg22_main.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af9dacd1c21a4e0009c5e9614291374aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ros_init_publishers </td>
          <td>(</td>
          <td class="paramtype">ros::NodeHandle&#160;</td>
          <td class="paramname"><em>node_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ros::Publisher&#160;</td>
          <td class="paramname"><em>publishers</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>camera_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="vlg22__main_8cpp_source.html#l00216">216</a> of file <a class="el" href="vlg22__main_8cpp_source.html">vlg22_main.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a00685bb3c9c88422082dc55cc1bac852"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sensor_msgs::Image ros_prepare_image </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>camera_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="vlg22__main_8cpp_source.html#l00229">229</a> of file <a class="el" href="vlg22__main_8cpp_source.html">vlg22_main.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_09d9b2340758d8f542a1fb64faaf8f6c.html">sensing</a></li><li class="navelem"><a class="el" href="dir_7eb682518a670dd16a6ba8e47a47e2e8.html">drivers</a></li><li class="navelem"><a class="el" href="dir_d9d0dc2e550e8dee352a010b9469ddc6.html">camera</a></li><li class="navelem"><a class="el" href="dir_948484020e384bf71d2b5d434d8afd2c.html">packages</a></li><li class="navelem"><a class="el" href="dir_8c823c72f1216edea6e3e656ced178a0.html">baumer</a></li><li class="navelem"><a class="el" href="dir_0610f1645a02fd4b2cf156d39aee497d.html">nodes</a></li><li class="navelem"><a class="el" href="dir_ee4bf1b0341e3944a9eed82832cb66f3.html">vlg22</a></li><li class="navelem"><a class="el" href="dir_1ab44b5bd4057e962d6279ae54fc2ae8.html">src</a></li><li class="navelem"><a class="el" href="vlg22__main_8cpp.html">vlg22_main.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Autoware_Doxygen: /home/deng/Project/autobot-feature-decision/ros/src/computing/planning/decision/packages/decision_maker/README.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Autoware_Doxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('computing_2planning_2decision_2packages_2decision__maker_2_r_e_a_d_m_e_8md.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">/home/deng/Project/autobot-feature-decision/ros/src/computing/planning/decision/packages/decision_maker/README.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="computing_2planning_2decision_2packages_2decision__maker_2_r_e_a_d_m_e_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# Decision Maker</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;## Overview</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;**This feature is experimental.**&lt;/br&gt;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;Autoware package that manages the Vehicle status, given Mission(waypoints) status, and Driving(Motion) status.</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;Each status is managed by state machine.</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;&lt;!-- Autoware package that visualize internal state and publish some commands. --&gt;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;### Vehicle</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;&lt;img src=&quot;docs/VehicleStates.jpg&quot; width=300&gt;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;### Mission</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;&lt;img src=&quot;docs/MissionStates.jpg&quot; width=600&gt;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;### Driving</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;&lt;img src=&quot;docs/DriveStates.jpg&quot; width=800&gt;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;## Runtime Manager Parameters</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;Parameter|Type|Description</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;--|---|--</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;auto_mission_reload|Bool|(default: *false*)&lt;br&gt;If this is set true, decision maker automatically reloads mission as new mission after previous mission is completed.</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;auto_engage|Bool|(default: *false*)&lt;br&gt;If this is set true, decision maker automatically engage immediately after ready to drive.</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;auto_mission_change|Bool|(default: *false*)&lt;br&gt;If this is set true, decision maker automatically change the mission(waypoint) without state_cmd when new mission is loaded while driving.</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;use_fms|Bool|(default: *false*)&lt;br&gt;This must be true in order to incoorporate with [Autoware Management System](https://github.com/CPFL/AMS)</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;disuse_vector_map|Bool|(default: *false*)&lt;br&gt; If set *true*, decision_maker will exit &quot;MapInitState&quot; even if vector map is not successfully loaded.</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;num_of_steer_behind|Int|(default: *20*)&lt;br&gt; lookup distance along waypoints to determine steering state(straight, turning right, or turning left)</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;change_threshold_dist|Double|(default: *1*)&lt;br&gt; This is relevent only if *use_fms* is *true*.&lt;br&gt; If the distance from vehicle to closest waypoint in the new mission is further than *change_threshold_dist* [m], mission change fails.</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;change_threshold_angle|Double|(default:*15*)&lt;br&gt;This is relevent only if *use_fms* is *true*.&lt;br&gt; If the angle from vehicle to closest waypoint in the new mission is further than this *change_threshold_dist* [deg], mission change fails.</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;time_to_avoidance|Double|(default: *3*)&lt;br&gt; If the vehicle is stuck for *time_to_avoidance* seconds (e.g. due to obstacles), the state transits to from &quot;Go&quot; to &quot;Avoidance&quot;.</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;goal_threshold_dist|Double|(default: *3*)&lt;br&gt; Threshold used to check if vehicle has reached to the goal (i.e. end of waypoints). The vehicle must be less than *goal_threshold_dist* [m] to the goal.</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;goal_threshold_vel|Double|(default: *0.1*)&lt;br&gt; Threshold used to check if vehicle has reached to the goal (i.e. end of waypoints). The vehicle must be less than *goal_threshold_vel* [m/s] to be treated as goal arrival.</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;## ROS Parameters</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;Parameter|Type|Description</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;--|---|--</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;state_vehicle_file_name|string|file that defines vehicle state transition</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;state_mission_file_name|string|file that defines mission state transition</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;state_drive_file_name|string|file that defines drive state transition</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;stopline_reset_count|int|This parameter is used if the vehicle stops at the stop line and moves backward without crossing the stop line. When the vehicle moves backward by this count of the waypoints, the stop line is recognized again.</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;## Subscribed topics</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;Topic|Type|Objective</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;--|---|--</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;/based/lane_waypoints_array|autoware_msgs/LaneArray|waypoints for the vehicle to follow. (e.g. waypoints given from waypoint_loader node)</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;/change_flag|std_msgs/Int32|Vehicle will try to change lane if this flag is set. Publishes /lamp_cmd to change blinkers according to this flag. (0=straight, 1=right, 2=left)</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;/closest_waypoint|std_msgs/Int32|Closest waypoint index in waypoints given by /based/lane_waypoints_array.</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;/config/decision_maker|autoware_config_msgs::ConfigDecisionMaker|Parameters set from runtime manager</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;/current_pose|geometry_msgs/PoseStamped|Current pose of vehicle</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;/current_velocity|geometry_msgs/TwistStamped|Current velocity of vehicle</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;/filtered_points|sensor_msgs/PointCloud2|Used to check if sensor data is ready. This is meant to give pointcloud data used for ndt_matching.</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;/final_waypoints|autoware_msgs/Lane|resultant waypoints from planner nodes, e.g. from velocity_set node.</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;/obstacle_waypoint|std_msgs/Int32|Obstacle waypoint index. Used in &quot;Go&quot; state.</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;/state_cmd|std_msgs/String|Decision_maker will try to transit state according to the key given through this topic.</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;/vector_map_info/area|vector_map_msgs/AreaArray|Area information from vector map. &lt;br&gt;This is ignored unless area, cross_road, line, point, road_sign, stop_line, and vector are subscribed.</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;/vector_map_info/cross_road|vector_map_msgs/CrossRoadArray|Cross road information from vector map. &lt;br&gt;This is ignored unless area, cross_road, line, point, road_sign, stop_line, and vector are subscribed.</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;/vector_map_info/line|vector_map_msgs/LineArray|Line information from vector map. &lt;br&gt;This is ignored unless area, cross_road, line, point, road_sign, stop_line, and vector are subscribed.</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;/vector_map_info/point|vector_map_msgs/PointArray|Point information from vector map.&lt;br&gt;This is ignored unless area, cross_road, line, point, road_sign, stop_line, and vector are subscribed.  </div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;/vector_map_info/road_sign|vector_map_msgs/RoadSignArray|Road sign information from vector map. &lt;br&gt;This is ignored unless area, cross_road, line, point, road_sign, stop_line, and vector are subscribed.</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;/vector_map_info/stop_line|vector_map_msgs/StopLineArray|Stop line information from vector map.&lt;br&gt;This is ignored unless area, cross_road, line, point, road_sign, stop_line, and vector are subscribed.</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;/vector_map_info/vector|vector_map_msgs/VectorArray|Vector information from vector map. &lt;br&gt;This is ignored unless area, cross_road, line, point, road_sign, stop_line, and vector are subscribed.</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;## Published topics</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;Topic|Type|Objective</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;--|---|--</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;/decision_maker/available_transition|std_msgs/String|available transition from current state</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;/decision_maker/operator_help_text|jsk_rviz_plugins/OverlayText|Help message during operation</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;/decision_maker/state|std_msgs/String|current state for &quot;Vehicle&quot;, &quot;Mission&quot;, and &quot;Drive&quot; state machine.</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;/decision_maker/state_msg|autoware_msgs/State|current state for &quot;Vehicle&quot;, &quot;Mission&quot;, and &quot;Drive&quot; state machine with header.</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;/lamp_cmd|autoware_msgs/LampCmd|blinker command to vehicle (0=straight, 1=right, 2=left)</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;/lane_waypoints_array|autoware_msgs/LaneArray|waypoints passed down to following planners. (e.g. lane_rule)</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;/light_color_managed|autoware_msgs/TrafficLight|meant to publish light_color status. Not implemented yet.</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;/decision_maker/state_overlay|jsk_rviz_plugins/OverlayText|Current state as overlay_txt.</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;/state/stopline_wpidx|std_msgs/Int32|Index of waypoint for the vehicle to stop.</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;/decision_maker/target_velocity_array|std_msgs/Float64MultiArray| Array of target velocity obtained from final_waypoints.</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;## State Description</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;### Vehicle States</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;State name|Required topic|Description|Implementation</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;--|--|---|--</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;Init|-|The parent state of the following states.|-</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;SensorInit|/filtered_points|Waits until all sensors are ready.|Waits until /filtered_points is received unless wf_simulator node is launched.  </div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;MapInit||Waits until vector map is ready|Waits until vector_map is subscribed if disuse_vector_map is set false.</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;LocalizationInit|/current_pose|Waits until localizer is ready | Waits until current_pose is converged. (i.e. ndt_matching is stable.)</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;PlanningInit|/closest_waypoint|Waits unil planners are ready | Subscriber is set for /closest_waypoint.</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;VehicleInit|-|Waits until vehicle is ready for departure.|No implementation goes directly to vehilce ready state.</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;VehicleReady|-|Vehicle is ready to move.|Exits to VehicleEmergency when `emergency` key is given by state_cmd from other states, or if `emergency_flag` is set true by other states.</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;VehicleEmergency|-|Emergency is detected somewhere in the system. |Waits until `return_from_emergency` or `return_to_ready`  key is by /state_cmd (e.g. by DecisionMakerPanel)</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;### Mission States</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;State name|Required topic|Description|Implementation</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;--|--|---|--</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;WaitVehicleReady|-|Waits until vehicle setup is done|Waits until vehicle_is_ready key is given from Vehicle State Machine</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;WaitOrder|/based_lane_array|wayits until mission is given. | waits until base_lane_array is received.</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;MissionCheck|/final_waypoints&lt;br&gt; /current_waypoint|Waits until all the planners are ready. |Waits until /final_waypoints (from planner nodes) and /current_waypoint are received.</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;DriveReady|-|Given Mission is approved and vehicle is ready to move. |Waits until engage or mission_canceled key is given.</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;Driving|-|The vehicle is driving. According to the planner nodes|Sets operation_start key. Goes to MissionAborted in case of emergency.</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;DrivingMissionChange|/based/lane_waypoints_array|Waits for new mission while the vehicle keeps driving. | Waits until new /based/lane_waypoints_array is sent from management system. Then, checks if the waypoint is compatible or not depending on change_threshold_dist and change_threshold_angle parameters. Publish the new mission as /lane_waypoints_array if compatible.</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;MissionChangeSucceeded|-|New waypoints are compatible and vehicle will start following the new mission. | Throws return_to_driving key after 1 second if use_fms is set false.</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;MissionChangeFailed|-|New waypoints are NOT compatible and vehicle will continue following the old mission. | Throws return_to_driving key after 1 second if use_fms is set false.</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;MissionComplete|-|Vehicle has reached the goal.|If use_fms is false and auto_mission_reload is true, go to MissionCheck state. Otherwise, got to WaitOrder state after 1 second.</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;MissionAborted|-|Mission is aborted by other nodes(e.g. by AMS). | Throws operation_end to Drving State Machine. Then, go to wait order automatically if use_fms is false, otherwise waits until goto_wait_order key is given by management system.</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;### Driving States</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;State name|Required topic|Description|Implementation</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;--|--|---|--</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;WaitReady|-|Waits until vehicle setup is done|Waits until vehicle_is_ready key is given from Vehicle State Machine</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;WaitEngage|-|Waits for engage button in DecisionMakerPanel to be pressed|Waits until engage key is given by DecisionMakerPanel</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;DriveEmergency|-|Vehicle is stopping due to emergency |Throws mission_aborted key</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;Drive|/closest_waypoint|Vehicle drives according to the waypoint|mission_aborted key if waypoint is far from the vehicle.(i.e. vehicle moves out of the waypoint) Throws arrived_goal key if vehicle is near the end of the waypoints.  </div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;LaneArea|/final_waypoints|Vehicle is driving within lanes| Throws on_bus_stop key if waypoint state has bus stop event, otherwise, throws on_cruise key.</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;Cruise|-|Vehicle Drives along the waypoint|Throws on_left_turn, on_right_turn, on_straight, lane_change_left, or lane_change_right key depending on waypoint state and change flags.</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;Straight|-|Vehicle is driving along lane (i.e. not turning at intersection)| publish /lamp_cmd to clear blinkers</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;Stop|-|vehicle is stopping since stop signal is sent from other nodes (e.g. by stop button on decisionMakerPanel)|Publishes /state/stopline_wpidx with the index = closest_waypoint + 1.</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;Wait|-|Vehilce is waiting (e.g. due to safety reason)|Publishes /state/stopline_wpidx with the index = closest_waypoint + 1.</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;Go|-|Vehicle is moving|Throws found_stopline if stopline is nearby. Throws completely_stopped if vehicle stops due to obstacle.</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;StopLine|/vector_map_info/stop_line|Vehicle is stopping due to stop line|Throws clear key after vehicle stops for 0.5 seconds.</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;LeftTurn|-|Vehicle is turning left at intersection. Change blinker to left. | Publish /lamp_cmd to change blinker.</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;L_Stop|-|Same as Stop State|Same as Stop State</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;L_Wait|-|Same as Wait State|Same as Wait State</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;L_Go|-|Same as Go State|Same as Go State</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;L_StopLine|-|Same as StopLine State|Same as StopLine State</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;RightTurn|-|Vehicle is turning right at intersection. Change blinker to right. | Publish /lamp_cmd to change blinker.</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;R_Stop|-|Same as Stop State|Same as Stop State</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;R_Wait|-|Same as Wait State|Same as Wait State</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;R_Go|-|Same as Go State|Same as Go State</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;R_StopLine|-|Same as StopLine State|Same as StopLine State  </div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;Back|-|Vehicle is moving backwards|Publish /lamp_cmd to clear blinkers</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;B_Stop|-|Same as Stop State|Same as Stop State</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;B_Wait|-|Same as Wait State|Same as Wait State</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;B_Go|-|Same as Go State|Same as Go State</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;B_StopLine|-|Same as StopLine State|Same as StopLine State</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;LeftLaneChange|-|Vehicle is switching to left lane|publish /lamp_cmd to change blinker to left.</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;CheckLeftLane|-|Check if it is safe to change lane to left|No implementation.</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;ChangeToLeft|-|Change to left lane|No implementation.</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;RightLaneChange|-|Vehicle is switching to right lane|publish /lamp_cmd to change blinker to right.</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;CheckRightLane|-|Check if it is safe to change lane to left|No implementation.</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;ChangeToRight|-|Change to left lane|No implementation.</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;BusStop|-|Vehicle is approaching to bus stop(not supported yet)| No implementation.</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;PullIn|-|Vehicle is pulling in to bus stop| publish /lamp_cmd to change blinker to left.</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;PullOut|-|Vehicle is pulling out from bus stop|publish /lamp_cmd to change blinker to right.</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;FreeArea|-|Vehicle is driving in free space(e.g. parking area)(not supported yet)|No implementation.</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;Parking|-|Vehicle is parking|Publish /lamp_cmd to change blinker to hazard.  </div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;## Basic Usage in Autoware</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;### Start Driving</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;1. Launch Autoware and localization on real vehicle or wf_simulator</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;2. Launch `decision_maker` and lane_planner, astar_planner, waypoint_follower</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;3. When `VehicleReady` and `WaitOrder` state, launch `waypoint_loader`</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;4. On `DriveReady` state, push `Engage` button on DecisionMakerPannel</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;5. When the vehicle reaches the end of waypoint and stops, state Mission state transits to `WaitOrder` via the `MissionComplete`</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;6. You can repeat from 3. with other waypoint</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;### Lane change</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  1. Start Normal driving with waypoint files necessary for lane change</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  2. On `CheckLeft` or `RightLane` state, push `Execute LaneChange` button on DecisionMakerPannel</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  3. The vehicle start lane change</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;### Driving mission change</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  1. Prepare waypoint files to change, and start Normal driving</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  2. On `Driving` state, push `Request mission change` button on DecisionMakerPannel</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  3. When the state becomes `DrivingMissionChange`, please load another waypoint for change</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  4. If it is possible to change the waypoint will switch, otherwise it will not be changed</div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="computing_2planning_2decision_2packages_2decision__maker_2_r_e_a_d_m_e_8md.html">README.md</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>

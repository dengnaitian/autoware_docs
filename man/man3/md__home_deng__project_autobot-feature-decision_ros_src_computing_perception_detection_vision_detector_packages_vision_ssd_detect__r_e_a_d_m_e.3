.TH "md__home_deng__project_autobot-feature-decision_ros_src_computing_perception_detection_vision_detector_packages_vision_ssd_detect__r_e_a_d_m_e" 3 "Fri May 22 2020" "Autoware_Doxygen" \" -*- nroff -*-
.ad l
.nh
.SH NAME
md__home_deng__project_autobot-feature-decision_ros_src_computing_perception_detection_vision_detector_packages_vision_ssd_detect__r_e_a_d_m_e \- How to Install Caffe for \fBSSD\fP vision detector 
\fBUpdated as of 2018-07-04\fP
.PP
.IP "1." 4
Complete the \fCpre-requisites\fP\&.
.IP "2." 4
Clone the \fBSSD\fP Caffe fork in your home directory (CMake files will be looking for it there)\&. 
.PP
.nf
1 % git clone -b ssd https://github\&.com/weiliu89/caffe\&.git ssdcaffe
2 % cd ssdcaffe
3 % git checkout 4817bf8b4200b35ada8ed0dc378dceaf38c539e4

.fi
.PP

.IP "3." 4
Follow the authors' instructions to complete the pre-requisites for compilation\&.
.IP "4." 4
Compile Caffe: 
.PP
.nf
1 make && make distribute

.fi
.PP

.IP "6." 4
Download pre-trained models as provided at https://github.com/weiliu89/caffe/tree/ssd, or use your own\&.
.PP
.PP
Once compiled, run from the terminal, or launch from RunTimeManager:
.PP
.PP
.nf
1 % roslaunch vision_ssd_detect vision_ssd_detect network_definition_file:=/PATH/TO/deploy\&.prototxt pretrained_model_file:=/PATH/TO/model\&.caffemodel
.fi
.PP
 Remember to modify the launch file located inside \fCAUTOWARE_BASEDIR/ros/src/computing/perception/detection/vision_detector/packages/vision_ssd_detect/launch/vision_ssd_detect\&.launch\fP and point the network and pre-trained models to your paths\&.
.PP
.SS "\fBLaunch\fP file params"
.PP
ParameterTypeDescriptionDefault  \fCuse_gpu\fP*Bool* Whether to use or not GPU acceleration\&.\fCtrue\fP \fCgpu_device_id\fP*Integer*ID of the GPU to be used\&.\fC0\fP \fCscore_threshold\fP*Double*Value between 0 and 1\&. Defines the minimum score value to filter detections\&.\fC0\&.5\fP \fCnetwork_definition_file\fP*String*Path to the prototxt file \&.\fC$SSDCAFFEPATH/models/VGGNet/VOC0712/SSD_512x512/deploy\&.prototxt\fP \fCpretrained_model_file\fP*String*Path to the prototxt file \&.\fC$SSDCAFFEPATH/models/VGGNet/VOC0712/SSD_512x512/VGG_VOC0712_SSD_512x512_iter_120000\&.caffemodel\fP \fCcamera_id\fP*String*Camera ID to subscribe, i\&.e\&. \fCcamera0\fP\fC/\fP \fCimage_src\fP*String*Name of the image topic to subscribe to\fC/image_raw\fP 
.SS "Notes"
.PP
Remember to modify the \fCdeploy\&.prototxt\fP to use the \fBFULL PATH\fP to the VOC label prototxt file\&.
.PP
Open the file \fC$SSDCAFFEPATH/models/VGGNet/VOC0712/SSD_512x512/deploy\&.prototxt\fP
.PP
\fBChange line \fC1803\fP to point to the full path of the \fClabelmap_voc\&.prototxt\fP file\&.\fP 

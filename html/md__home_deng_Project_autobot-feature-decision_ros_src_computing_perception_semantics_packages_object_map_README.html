<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Autoware_Doxygen: The `object_map` Package</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Autoware_Doxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md__home_deng_Project_autobot-feature-decision_ros_src_computing_perception_semantics_packages_object_map_README.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">The `object_map` Package </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This package contains nodes to extract information from the LiDAR sensor and from ADAS Maps. The processed result is published as GridMaps (grid_map) and/or occupancy grids(nav_msgs). </p><hr/>
<h2>Nodes in the Package</h2>
<h3>points2costmap</h3>
<p>This node reads PointCloud data and creates an occupancy grid based on the data contained in it.</p>
<p>The subscribed PointCloud topic should be a processed PointCloud with the ground previously removed. The default input is set as the output PointCloud result from the node <code>euclidean_clustering</code> of the <code>lidar_tracker</code> package. However, another option might be the output of the <code>ray_ground_filter</code> or <code>ring_ground_filter</code>, both belonging to the <code>points_preprocessor</code> in the <em>Sensing</em> package.</p>
<p>The values contained within the OccupancyGrid range from 0-100, representing a probability percentage where 0 represents free space and 100 represents occupied space.</p>
<h4>Input topics</h4>
<p>Default: <code>/points_lanes</code> (PointCloud) from euclidean cluster. It contains filtered points with the ground removed. Another possible option is <code>/points_no_ground</code>.</p>
<h4>Output topics</h4>
<p><code>/realtime_cost_map</code> (nav_msgs::OccupancyGrid) is the output OccupancyGrid, with values ranging from 0-100.</p>
<h5>How to launch</h5>
<p>It can be launched as follows:</p><ol type="1">
<li>Using the Runtime <a class="el" href="class_manager.html">Manager</a> by clicking the <code>points2costmap</code> checkbox under the <em>Semantics</em> section in the Computing tab.</li>
<li>From a sourced terminal executing: <code>roslaunch <a class="el" href="namespaceobject__map.html">object_map</a> points2costmap.launch</code>.</li>
</ol>
<h5><a class="el" href="union_parameters.html">Parameters</a> available in roslaunch and rosrun</h5>
<ul>
<li><code>resolution</code> defines the equivalent value of a cell in the grid in meters. Smaller values result in better accuracy at the expense of memory and computing cost (default value: 0.1).</li>
<li><code>cell_width</code> represents the width in meters of the OccupancyGrid around the origin of the PointCloud (default: 150).</li>
<li><code>cell_height</code> represents the height in meters of the OccupancyGrid around the origin of the PointCloud (default: 150).</li>
<li><code>offset_x</code> indicates if the center of the OccupancyGrid will be shifted by this distance, to the left(-) or right(+) (default: 25).</li>
<li><code>offset_y</code> indicates if the center of the OccupancyGrid will be shifted by this distance, to the back(-) or front(+) (default: 0).</li>
<li><code>offset_z</code> indicates if the center of the OccupancyGrid will be shifted by this distance, below(-) or above(+) (dDefault: 0).</li>
<li><code>points_topic</code> is the PointCloud topic source. <hr/>
</li>
</ul>
<h3>laserscan2costmap</h3>
<p>This node performs the same function as <code>points2costmap</code> but uses 2D LaserScan messages to generate the OccupancyGrid.</p>
<h4>Input topics</h4>
<p>Default: <code>/scan</code> (sensor_msgs::LaserScan) from vscan.</p>
<h4>Output topics</h4>
<p><code>/ring_ogm</code> (nav_msgs::OccupancyGrid) is the output OccupancyGrid with values ranging from 0-100.</p>
<h5>How to launch</h5>
<p>It can be launched as follows:</p><ol type="1">
<li>Using the Runtime <a class="el" href="class_manager.html">Manager</a> by clicking the <code>laserscan2costmap</code> checkbox under the <em>Semantics</em> section in the Computing tab.</li>
<li>From a sourced terminal by executing: <code>roslaunch <a class="el" href="namespaceobject__map.html">object_map</a> laserscan2costmap.launch</code>.</li>
</ol>
<h5><a class="el" href="union_parameters.html">Parameters</a> available in roslaunch and rosrun</h5>
<ul>
<li><code>resolution</code> defines the equivalent value of a cell in the grid in meters. Smaller values result in better accuracy at the expense of memory and computing cost (default value: 0.1).</li>
<li><code>cell_width</code> represents the width in meters of the OccupancyGrid around the origin of the PointCloud (default: 150).</li>
<li><code>cell_height</code> represents the height in meters of the OccupancyGrid around the origin of the PointCloud (default: 150).</li>
<li><code>offset_x</code> indicates if the center of the OccupancyGrid will be shifted by this distance, to the left(-) or right(+) (default: 25).</li>
<li><code>offset_y</code> indicates if the center of the OccupancyGrid will be shifted by this distance, to the back(-) or front(+) (default: 0).</li>
<li><code>offset_z</code> indicates if the center of the OccupancyGrid will be shifted by this distance, below(-) or above(+) (default: 0).</li>
<li><code>scan_topic</code> is the PointCloud topic source. <hr/>
</li>
</ul>
<h3>wayarea2grid</h3>
<p>The ADAS Maps used in Autoware may contain the definition of the road areas, which is useful for computing whether a region is drivable or not. This node reads the data from an ADAS Map (<a class="el" href="class_vector_map.html">VectorMap</a>) and extracts the 3D positions of the road regions. It projects them into an OccupancyGrid and sets the value to <code>128</code> if the area is <b>road</b> and <code>255</code> if it is not. These values are used because this node uses 8-bit bitmaps (grid_map).</p>
<h4>Input topics</h4>
<p><code>/vector_map</code> (vector_map_msgs::WayArea) from the <a class="el" href="class_vector_map.html">VectorMap</a> publisher. <code>/tf</code> to obtain the transform between the vector map(grid_frame) and the sensor(sensor_frame) .</p>
<h4>Output topics</h4>
<p><code>/grid_map_wayarea</code> (grid_map::GridMap) is the resulting GridMap with values ranging from 0-255. <code>/occupancy_wayarea</code> (nav_msgs::OccupancyGrid) is the resulting OccupancyGrid with values ranging from 0-255.</p>
<h5>How to launch</h5>
<p>It can be launched as follows:</p><ol type="1">
<li>Using the Runtime <a class="el" href="class_manager.html">Manager</a> by clicking the <code>wayarea2grid</code> checkbox under the <em>Semantics</em> section in the Computing tab.</li>
<li>From a sourced terminal by executing: <code>roslaunch <a class="el" href="namespaceobject__map.html">object_map</a> wayarea2grid.launch</code></li>
</ol>
<h5><a class="el" href="union_parameters.html">Parameters</a> available in roslaunch and rosrun</h5>
<ul>
<li><code>sensor_frame</code> defines the coordinate frame of the vehicle origin (default value: velodyne).</li>
<li><code>grid_frame</code> defines the coordinate frame of the map (default: map).</li>
<li><code>grid_resolution</code> defines the equivalent value of a cell in the grid in meters. Smaller values result in better accuracy at the expense of memory and computing cost (default: 0.2).</li>
<li><code>grid_length_x</code> represents the width in meters of the OccupancyGrid around the origin of the PointCloud (default: 25).</li>
<li><code>grid_length_y</code> represents the height in meters of the OccupancyGrid around the origin of the PointCloud (default: 0).</li>
<li><code>grid_position_x</code> indicates if the center of the OccupancyGrid will be shifted by this distance, left(-) or right(+) (default: 0).</li>
<li><code>grid_position_y</code> indicates if the center of the OccupancyGrid will be shifted by this distance, back(-) or front(+) (default: 0). <hr/>
</li>
</ul>
<h3>grid_map_filter</h3>
<p>This node can combine sensor, map, and perception data as well as other OccupancyGrids. It generates OccupancyGrids with useful data for navigation purposes. It publishes three different layers. More details are provided in the output topics section below.</p>
<h4>Input topics</h4>
<p><code>/vector_map</code> (vector_map_msgs::WayArea) from the <a class="el" href="class_vector_map.html">VectorMap</a> publisher. <code>/tf</code> to obtain the transform between the vector map (grid_frame) and the sensor (sensor_frame). <code>/realtime_cost_map</code> (nav_msgs::OccupancyGrid) calculated by <code>points2costmap</code> in this package.</p>
<h4>Output topics</h4>
<p><code>/filtered_grid_map</code> (grid_map::GridMap) which contains 3 layers and is also published as in regular OccupancyGrid messages. <code>distance_transform</code> (nav_msgs::OccupancyGrid) applies a distance transform to the OccupancyGrid obtained from the <code>/realtime_cost_map</code>, allowing us to obtain a gradient of probabilities surrounding the obstacles PointCloud. <code>dist_wayarea</code> (nav_msgs::OccupancyGrid) contains a combination of the distance transform and the road data, as described in the <code>wayarea2grid</code> node. <code>circle</code> (nav_msgs::OccupancyGrid) draws a circle surrounding the <code>/realtime_cost_map</code>.</p>
<p>The output topics are configured as described in the <code>grid_map</code> package, and the configuration file is inside the <code>config</code> folder of the package.</p>
<h5>How to launch</h5>
<p>It can be launched as follows:</p><ol type="1">
<li>Using the Runtime <a class="el" href="class_manager.html">Manager</a> by clicking the <code>grid_map_filter</code> checkbox under the <em>Semantics</em> section in the Computing tab.</li>
<li>From a sourced terminal by executing: <code>roslaunch <a class="el" href="namespaceobject__map.html">object_map</a> grid_map_filter.launch</code>.</li>
</ol>
<h5><a class="el" href="union_parameters.html">Parameters</a> available in roslaunch and rosrun</h5>
<ul>
<li><code>map_frame</code> defines the coordinate system of the realtime costmap (default value: map).</li>
<li><code>map_topic</code> defines the topic where the realtime costmap is being published (default: /realtime_cost_map).</li>
<li><code>dist_transform_distance</code> defines the maximum distance to calculate the distance transform, in meters (default: 2.0).</li>
<li><code>use_wayarea</code> indicates whether or not to use the road regions to filter the cost map (default: true).</li>
<li><code>use_fill_circle</code> enables or disables the generation of the circle layer (default: true).</li>
<li><code>fill_circle_cost_threshold</code> indicates the minimum cost value threshold value to decide if a circle will be drawn (default: 20)</li>
<li><code>circle_radius</code> defines the radius of the circle, in meters (default: 1.7). <hr/>
</li>
</ul>
<h2>Instruction Videos</h2>
<h3>grid_map_filter</h3>
<p><a href="https://www.youtube.com/watch?v=bl-nG8Zv-C0"></a></p>
<h3>wayarea2grid</h3>
<p><a href="https://www.youtube.com/watch?v=UkcO4V-0NOw"></a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
